cpp-pch pch :
    ../scraps//project_defaults
    ../scraps//scraps_headers
    src/pch.h
:
    <conditional>@use-pch
    <include>./include
;

lib libpng : ../third-party/needs//libpng : <name>png <link>static ;
lib libturbojpeg : ../third-party/needs//libjpeg-turbo : <name>turbojpeg ;
lib libm         : : <name>m <link>shared ;
lib libGLESv2    : : <name>GLESv2 <link>shared ;
lib libiconv     : : <name>iconv ;


lib libSDL2 : ../third-party/needs//sdl2
:
    <name>SDL2
: :
    [ conditional <target-os>darwin :
        <framework>AudioUnit
        <framework>Carbon
        <framework>Cocoa
        <framework>CoreAudio
        <framework>ForceFeedback
        <framework>Foundation
        <framework>IOKit
        <source>libiconv
    ]

    [ conditional <target-os>appletv :
        <framework>CoreAudio
        <framework>CoreGraphics
        <framework>GameController
        <framework>QuartzCore
        <framework>UIKit
    ]

    [ conditional <target-os>iphone :
        <framework>CoreAudio
        <framework>CoreGraphics
        <framework>CoreMotion
        <framework>GameController
        <framework>QuartzCore
        <framework>UIKit
    ]
;

lib okui :
    pch
    [ glob-tree-ex src : *.cpp ]
    ../scraps//scraps
    libpng
    libturbojpeg
    libSDL2
    ../jshackle//jshackle
:
    <include>./include
    <link>static
    <target-os>linux:<source>libm
    <target-os>android:<source>libGLESv2
: :
    <include>./include
    <target-os>darwin:<framework>OpenGL
    <target-os>iphone:<framework>OpenGLES
    <target-os>appletv:<framework>OpenGLES
;
